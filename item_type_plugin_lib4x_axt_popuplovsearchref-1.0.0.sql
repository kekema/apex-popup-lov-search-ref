prompt --application/set_environment
set define off verify off feedback off
whenever sqlerror exit sql.sqlcode rollback
--------------------------------------------------------------------------------
--
-- Oracle APEX export file
--
-- You should run this script using a SQL client connected to the database as
-- the owner (parsing schema) of the application or as a database user with the
-- APEX_ADMINISTRATOR_ROLE role.
--
-- This export file has been automatically generated. Modifying this file is not
-- supported by Oracle and can lead to unexpected application and/or instance
-- behavior now or in the future.
--
-- NOTE: Calls to apex_application_install override the defaults below.
--
--------------------------------------------------------------------------------
begin
wwv_flow_imp.import_begin (
 p_version_yyyy_mm_dd=>'2024.05.31'
,p_release=>'24.1.0'
,p_default_workspace_id=>1700466440038362
,p_default_application_id=>149
,p_default_id_offset=>0
,p_default_owner=>'HR'
);
end;
/
 
prompt APPLICATION 149 - Inspector
--
-- Application Export:
--   Application:     149
--   Name:            Inspector
--   Date and Time:   01:40 Thursday October 10, 2024
--   Exported By:     DEVELOPER
--   Flashback:       0
--   Export Type:     Component Export
--   Manifest
--     PLUGIN: 15703430720627279
--   Manifest End
--   Version:         24.1.0
--   Instance ID:     800104173856312
--

begin
  -- replace components
  wwv_flow_imp.g_mode := 'REPLACE';
end;
/
prompt --application/shared_components/plugins/item_type/lib4x_axt_popuplovsearchref
begin
wwv_flow_imp_shared.create_plugin(
 p_id=>wwv_flow_imp.id(15703430720627279)
,p_plugin_type=>'ITEM TYPE'
,p_name=>'LIB4X.AXT.POPUPLOVSEARCHREF'
,p_display_name=>'LIB4X - Popup LOV Search Reference'
,p_supported_component_types=>'APEX_APPLICATION_PAGE_ITEMS'
,p_plsql_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'--------------------------------------------------------------------------------',
'-- t_item_attr type definition',
'--------------------------------------------------------------------------------',
'type t_item_attr is record',
'( ',
'    c_name              varchar2(30)',
'); ',
'',
'--------------------------------------------------------------------------------',
'-- init_item_attr Procedure',
'--------------------------------------------------------------------------------',
'procedure init_item_attr(',
'    p_item    in  apex_plugin.t_item,',
'    item_attr out t_item_attr',
')',
'is',
'begin',
'    item_attr.c_name              := apex_plugin.get_input_name_for_item;',
'end init_item_attr;',
'',
'--------------------------------------------------------------------------------',
'-- Render Procedure',
'-- Renders the hidden input element to capture the LOV search value',
'-- Adds on-load js as to init the item client-side',
'--------------------------------------------------------------------------------',
'procedure render_popup_lov_search_ref (',
'    p_item   in            apex_plugin.t_item,',
'    p_plugin in            apex_plugin.t_plugin,',
'    p_param  in            apex_plugin.t_item_render_param,',
'    p_result in out nocopy apex_plugin.t_item_render_result',
')',
'is',
'    item_attr           t_item_attr; ',
'begin',
'    apex_plugin_util.debug_page_item(p_plugin => p_plugin, p_page_item => p_item);',
'    init_item_attr(p_item, item_attr);',
'    sys.htp.prn(',
'        apex_string.format(',
'            ''<input type="hidden" %s id="%s" value="%s" />''',
'            , apex_plugin_util.get_element_attributes(p_item, item_attr.c_name)',
'            , p_item.name',
'            , ''''',
'        )',
'    );',
'',
'    -- When specifying the library declaratively, it fails to load the minified version. So using the API:',
'    apex_javascript.add_library(',
'          p_name      => ''popuplovsearchref'',',
'          p_check_to_add_minified => true,',
'          p_directory => p_plugin.file_prefix || ''js/'',',
'          p_version   => NULL',
'    );                ',
'',
'    -- page on load: init popupLovSearchRef',
'    apex_javascript.add_onload_code(',
'        p_code => apex_string.format(',
'            ''lib4x.axt.popupLovSearchRef.init("%s", {});''',
'            , p_item.name     ',
'        )',
'    );',
'',
'    p_result.is_navigable := false;',
'end render_popup_lov_search_ref;',
'',
'--------------------------------------------------------------------------------',
'-- Meta Data Procedure',
'--------------------------------------------------------------------------------',
'procedure metadata_popup_lov_search_ref (',
'    p_item   in            apex_plugin.t_item,',
'    p_plugin in            apex_plugin.t_plugin,',
'    p_param  in            apex_plugin.t_item_meta_data_param,',
'    p_result in out nocopy apex_plugin.t_item_meta_data_result )',
'is',
'    item_attr   t_item_attr;     ',
'begin                   ',
'    p_result.escape_output := false;',
'end metadata_popup_lov_search_ref;',
'',
'',
''))
,p_api_version=>2
,p_render_function=>'render_popup_lov_search_ref'
,p_meta_data_function=>'metadata_popup_lov_search_ref'
,p_substitute_attributes=>true
,p_version_scn=>260432530
,p_subscribe_plugin_settings=>true
,p_help_text=>'Makes the entered search value in a Popup LOV available in the session state, so it can be referenced in the LOV query. By this, a Match Type of ''Starts With'' can be achieved, next to the ''Contains'' standard APEX behavior. It serves as a workaround p'
||'ending FR-3800 (see APEX Ideas App). The item can be added to the actual page or to the global page and will be rendered as hidden. By it''s name, it can be referenced in the LOV query. For example: where (upper(FULLNAME) like upper(:P0_LOV_SEARCH)||'''
||'%''). Apart from the name, no other configuration is required. The search value of the current open Popup LOV will automatically be submitted. In case multiple Popup LOV''s are used on the page, only one Search Reference Item is required.'
,p_version_identifier=>'1.0.0'
,p_about_url=>'https://github.com/kekema/apex-popup-lov-search-ref'
,p_files_version=>27
);
end;
/
begin
wwv_flow_imp.g_varchar2_table := wwv_flow_imp.empty_varchar2_table;
wwv_flow_imp.g_varchar2_table(1) := '2F2A2A0D0A202A2040617574686F72204B6172656C20456B656D610D0A202A20406C6963656E7365204D4954206C6963656E73650D0A202A20436F70797269676874202863292032303234204B6172656C20456B656D610D0A202A0D0A202A205065726D';
wwv_flow_imp.g_varchar2_table(2) := '697373696F6E20697320686572656279206772616E7465642C2066726565206F66206368617267652C20746F20616E7920706572736F6E206F627461696E696E67206120636F70790D0A202A206F66207468697320736F66747761726520616E64206173';
wwv_flow_imp.g_varchar2_table(3) := '736F63696174656420646F63756D656E746174696F6E2066696C657320287468652027536F66747761726527292C20746F206465616C0D0A202A20696E2074686520536F66747761726520776974686F7574207265737472696374696F6E2C20696E636C';
wwv_flow_imp.g_varchar2_table(4) := '7564696E6720776974686F7574206C696D69746174696F6E20746865207269676874730D0A202A20746F207573652C20636F70792C206D6F646966792C206D657267652C207075626C6973682C20646973747269627574652C207375626C6963656E7365';
wwv_flow_imp.g_varchar2_table(5) := '2C20616E642F6F722073656C6C0D0A202A20636F70696573206F662074686520536F6674776172652C20616E6420746F207065726D697420706572736F6E7320746F2077686F6D2074686520536F6674776172652069730D0A202A206675726E69736865';
wwv_flow_imp.g_varchar2_table(6) := '6420746F20646F20736F2C207375626A65637420746F2074686520666F6C6C6F77696E6720636F6E646974696F6E733A0D0A202A0D0A202A205468652061626F766520636F70797269676874206E6F7469636520616E642074686973207065726D697373';
wwv_flow_imp.g_varchar2_table(7) := '696F6E206E6F74696365207368616C6C20626520696E636C7564656420696E20616C6C0D0A202A20636F70696573206F72207375627374616E7469616C20706F7274696F6E73206F662074686520536F6674776172652E0D0A202A0D0A202A2054484520';
wwv_flow_imp.g_varchar2_table(8) := '534F4654574152452049532050524F564944454420274153204953272C20574954484F55542057415252414E5459204F4620414E59204B494E442C2045585052455353204F520D0A202A20494D504C4945442C20494E434C5544494E4720425554204E4F';
wwv_flow_imp.g_varchar2_table(9) := '54204C494D4954454420544F205448452057415252414E54494553204F46204D45524348414E544142494C4954592C0D0A202A204649544E45535320464F52204120504152544943554C415220505552504F534520414E44204E4F4E494E4652494E4745';
wwv_flow_imp.g_varchar2_table(10) := '4D454E542E20494E204E4F204556454E54205348414C4C205448450D0A202A20415554484F5253204F5220434F5059524947485420484F4C44455253204245204C4941424C4520464F5220414E5920434C41494D2C2044414D41474553204F52204F5448';
wwv_flow_imp.g_varchar2_table(11) := '45520D0A202A204C494142494C4954592C205748455448455220494E20414E20414354494F4E204F4620434F4E54524143542C20544F5254204F52204F54484552574953452C2041524953494E472046524F4D2C0D0A202A204F5554204F46204F522049';
wwv_flow_imp.g_varchar2_table(12) := '4E20434F4E4E454354494F4E20574954482054484520534F465457415245204F522054484520555345204F52204F54484552204445414C494E475320494E205448450D0A202A20534F4654574152452E0D0A202A2F0D0A0D0A77696E646F772E6C696234';
wwv_flow_imp.g_varchar2_table(13) := '78203D2077696E646F772E6C69623478207C7C207B7D3B0D0A77696E646F772E6C696234782E617874203D2077696E646F772E6C696234782E617874207C7C207B7D3B0D0A0D0A2F2A20506F7075704C6F765365617263685265660D0A202A204D616B65';
wwv_flow_imp.g_varchar2_table(14) := '7320746865207365617263682076616C756520696E20616E7920506F707570204C4F5620617661696C61626C6520666F72207265666572656E636520696E207468652073657373696F6E2063616368652E0D0A2A2F0D0A6C696234782E6178742E706F70';
wwv_flow_imp.g_varchar2_table(15) := '75704C6F76536561726368526566203D202866756E6374696F6E28242C207574696C29207B0D0A0D0A202020202F2F20496E697420746865206974656D202D2077696C6C2062652063616C6C6564206F6E2070616765206C6F61640D0A202020202F2F20';
wwv_flow_imp.g_varchar2_table(16) := '5468652076616C75652077696C6C206265206B657074206F6E20746865207365727665722D736964652067656E6572617465642068696464656E20696E70757420656C656D656E742E0D0A202020202F2F20496E2074686520696E697420686572652C20';
wwv_flow_imp.g_varchar2_table(17) := '746865207370656369666963206974656D20696E7465726661636520697320736574207570206279206170706C79696E6720617065782E6974656D2E6372656174652E0D0A202020202F2F20436C69656E742D736964652C207468652068746D6C20666F';
wwv_flow_imp.g_varchar2_table(18) := '72207468652073706563696669632074797065206F662063686F696365206974656D2069732067656E6572617465642E0D0A202020206C657420696E6974203D2066756E6374696F6E286974656D49642C206F7074696F6E73290D0A202020207B0D0A20';
wwv_flow_imp.g_varchar2_table(19) := '202020202020206C6574206469616C6F674964203D206E756C6C3B0D0A20202020202020202F2F20696D706C656D656E7420746865206974656D20696E74657266616365207370656369666963730D0A20202020202020202F2F2077652074616B652074';
wwv_flow_imp.g_varchar2_table(20) := '68652076616C756520617320706572207468652063757272656E742076697369626C6520706F7075700D0A2020202020202020617065782E6974656D2E637265617465286974656D49642C207B0D0A20202020202020202020202067657456616C75653A';
wwv_flow_imp.g_varchar2_table(21) := '2066756E6374696F6E282029207B0D0A2020202020202020202020202020202072657475726E202428272327202B206469616C6F674964202B2027202E612D506F7075704C4F562D73656172636827292E76616C2829207C7C2027273B0D0A2020202020';
wwv_flow_imp.g_varchar2_table(22) := '202020202020207D0D0A20202020202020207D293B0D0A20202020202020202F2F20636F6E66696775726520746865206D6F64656C20626568696E6420746865204C4F5620617320746F207375626D697420746865207265666572656E6365206974656D';
wwv_flow_imp.g_varchar2_table(23) := '200D0A20202020202020202F2F20746865206D6F64656C20697320617661696C61626C652075706F6E202866697273742920706F707570206F70656E206576656E740D0A20202020202020206C6574206974656D496E697469616C697A6564203D207B7D';
wwv_flow_imp.g_varchar2_table(24) := '3B20202020202020200D0A2020202020202020617065782E7574696C2E676574546F704170657828292E6A5175657279282723745F50616765426F647927292E6F6E2822706F7075706F70656E206469616C6F676F70656E222C2066756E6374696F6E28';
wwv_flow_imp.g_varchar2_table(25) := '6A51756572794576656E742C206461746129207B200D0A2020202020202020202020206469616C6F674964203D206A51756572794576656E742E7461726765742E69643B0D0A202020202020202020202020696620286469616C6F674964202626206469';
wwv_flow_imp.g_varchar2_table(26) := '616C6F6749642E737461727473576974682827506F7075704C6F762729290D0A2020202020202020202020207B202020202020200D0A202020202020202020202020202020206C657420696E646578203D206469616C6F6749642E696E6465784F662827';
wwv_flow_imp.g_varchar2_table(27) := '5F272C206469616C6F6749642E696E6465784F6628275F2729202B2031293B0D0A2020202020202020202020202020202069662028696E64657820213D202D31290D0A202020202020202020202020202020207B0D0A2020202020202020202020202020';
wwv_flow_imp.g_varchar2_table(28) := '2020202020206C6574206C6F764974656D4964203D206469616C6F6749642E73756273747228696E646578202B2031292E7265706C61636528275F646C67272C2727293B0D0A202020202020202020202020202020202020202069662028216974656D49';
wwv_flow_imp.g_varchar2_table(29) := '6E697469616C697A65645B6C6F764974656D49645D290D0A20202020202020202020202020202020202020207B0D0A2020202020202020202020202020202020202020202020206C6574206D6F64656C4E616D65203D2024282723272B6C6F764974656D';
wwv_flow_imp.g_varchar2_table(30) := '4964292E646174612827706F7075704C6F764D6F64656C4E616D6527293B0D0A2020202020202020202020202020202020202020202020206C6574206D6F64656C203D20617065782E6D6F64656C2E676574286D6F64656C4E616D65293B0D0A20202020';
wwv_flow_imp.g_varchar2_table(31) := '2020202020202020202020202020202020202020696620286D6F64656C290D0A2020202020202020202020202020202020202020202020207B0D0A202020202020202020202020202020202020202020202020202020206C6574206974656D73546F5375';
wwv_flow_imp.g_varchar2_table(32) := '626D6974203D206D6F64656C2E6765744F7074696F6E2827706167654974656D73546F5375626D69742729207C7C205B5D3B0D0A202020202020202020202020202020202020202020202020202020206974656D73546F5375626D6974203D20205B2E2E';
wwv_flow_imp.g_varchar2_table(33) := '2E6E657720536574285B2E2E2E6974656D73546F5375626D69742C206974656D49645D295D3B0D0A202020202020202020202020202020202020202020202020202020206D6F64656C2E7365744F7074696F6E2827706167654974656D73546F5375626D';
wwv_flow_imp.g_varchar2_table(34) := '6974272C206974656D73546F5375626D6974293B0D0A20202020202020202020202020202020202020202020202020202020617065782E6D6F64656C2E72656C65617365286D6F64656C4E616D65293B0D0A202020202020202020202020202020202020';
wwv_flow_imp.g_varchar2_table(35) := '2020202020207D0D0A2020202020202020202020202020202020202020202020206974656D496E697469616C697A65645B6C6F764974656D49645D203D20747275653B0D0A20202020202020202020202020202020202020207D0D0A2020202020202020';
wwv_flow_imp.g_varchar2_table(36) := '20202020202020207D0D0A2020202020202020202020207D0D0A20202020202020207D293B20202020202020202020202020202020202020202020202020202020200D0A202020207D0D0A0D0A2020202072657475726E7B0D0A2020202020202020696E';
wwv_flow_imp.g_varchar2_table(37) := '69743A20696E69740D0A202020207D0D0A7D2928617065782E6A51756572792C20617065782E7574696C293B';
end;
/
begin
wwv_flow_imp_shared.create_plugin_file(
 p_id=>wwv_flow_imp.id(15704053991654737)
,p_plugin_id=>wwv_flow_imp.id(15703430720627279)
,p_file_name=>'js/popuplovsearchref.js'
,p_mime_type=>'text/javascript'
,p_file_charset=>'utf-8'
,p_file_content=>wwv_flow_imp.varchar2_to_blob(wwv_flow_imp.g_varchar2_table)
);
end;
/
begin
wwv_flow_imp.g_varchar2_table := wwv_flow_imp.empty_varchar2_table;
wwv_flow_imp.g_varchar2_table(1) := '2F2A2A0A202A2040617574686F72204B6172656C20456B656D610A202A20406C6963656E7365204D4954206C6963656E73650A202A20436F70797269676874202863292032303234204B6172656C20456B656D610A202A0A202A205065726D697373696F';
wwv_flow_imp.g_varchar2_table(2) := '6E20697320686572656279206772616E7465642C2066726565206F66206368617267652C20746F20616E7920706572736F6E206F627461696E696E67206120636F70790A202A206F66207468697320736F66747761726520616E64206173736F63696174';
wwv_flow_imp.g_varchar2_table(3) := '656420646F63756D656E746174696F6E2066696C657320287468652027536F66747761726527292C20746F206465616C0A202A20696E2074686520536F66747761726520776974686F7574207265737472696374696F6E2C20696E636C7564696E672077';
wwv_flow_imp.g_varchar2_table(4) := '6974686F7574206C696D69746174696F6E20746865207269676874730A202A20746F207573652C20636F70792C206D6F646966792C206D657267652C207075626C6973682C20646973747269627574652C207375626C6963656E73652C20616E642F6F72';
wwv_flow_imp.g_varchar2_table(5) := '2073656C6C0A202A20636F70696573206F662074686520536F6674776172652C20616E6420746F207065726D697420706572736F6E7320746F2077686F6D2074686520536F6674776172652069730A202A206675726E697368656420746F20646F20736F';
wwv_flow_imp.g_varchar2_table(6) := '2C207375626A65637420746F2074686520666F6C6C6F77696E6720636F6E646974696F6E733A0A202A0A202A205468652061626F766520636F70797269676874206E6F7469636520616E642074686973207065726D697373696F6E206E6F746963652073';
wwv_flow_imp.g_varchar2_table(7) := '68616C6C20626520696E636C7564656420696E20616C6C0A202A20636F70696573206F72207375627374616E7469616C20706F7274696F6E73206F662074686520536F6674776172652E0A202A0A202A2054484520534F4654574152452049532050524F';
wwv_flow_imp.g_varchar2_table(8) := '564944454420274153204953272C20574954484F55542057415252414E5459204F4620414E59204B494E442C2045585052455353204F520A202A20494D504C4945442C20494E434C5544494E4720425554204E4F54204C494D4954454420544F20544845';
wwv_flow_imp.g_varchar2_table(9) := '2057415252414E54494553204F46204D45524348414E544142494C4954592C0A202A204649544E45535320464F52204120504152544943554C415220505552504F534520414E44204E4F4E494E4652494E47454D454E542E20494E204E4F204556454E54';
wwv_flow_imp.g_varchar2_table(10) := '205348414C4C205448450A202A20415554484F5253204F5220434F5059524947485420484F4C44455253204245204C4941424C4520464F5220414E5920434C41494D2C2044414D41474553204F52204F544845520A202A204C494142494C4954592C2057';
wwv_flow_imp.g_varchar2_table(11) := '48455448455220494E20414E20414354494F4E204F4620434F4E54524143542C20544F5254204F52204F54484552574953452C2041524953494E472046524F4D2C0A202A204F5554204F46204F5220494E20434F4E4E454354494F4E2057495448205448';
wwv_flow_imp.g_varchar2_table(12) := '4520534F465457415245204F522054484520555345204F52204F54484552204445414C494E475320494E205448450A202A20534F4654574152452E0A202A2F0A77696E646F772E6C696234783D77696E646F772E6C696234787C7C7B7D2C77696E646F77';
wwv_flow_imp.g_varchar2_table(13) := '2E6C696234782E6178743D77696E646F772E6C696234782E6178747C7C7B7D2C6C696234782E6178742E706F7075704C6F765365617263685265663D66756E6374696F6E28652C74297B72657475726E7B696E69743A66756E6374696F6E28742C69297B';
wwv_flow_imp.g_varchar2_table(14) := '6C6574206F3D6E756C6C3B617065782E6974656D2E63726561746528742C7B67657456616C75653A66756E6374696F6E28297B72657475726E2065282223222B6F2B22202E612D506F7075704C4F562D73656172636822292E76616C28297C7C22227D7D';
wwv_flow_imp.g_varchar2_table(15) := '293B6C657420703D7B7D3B617065782E7574696C2E676574546F704170657828292E6A5175657279282223745F50616765426F647922292E6F6E2822706F7075706F70656E206469616C6F676F70656E222C2866756E6374696F6E28692C61297B696628';
wwv_flow_imp.g_varchar2_table(16) := '6F3D692E7461726765742E69642C6F26266F2E737461727473576974682822506F7075704C6F762229297B6C657420693D6F2E696E6465784F6628225F222C6F2E696E6465784F6628225F22292B31293B6966282D31213D69297B6C657420613D6F2E73';
wwv_flow_imp.g_varchar2_table(17) := '756273747228692B31292E7265706C61636528225F646C67222C2222293B69662821705B615D297B6C657420693D65282223222B61292E646174612822706F7075704C6F764D6F64656C4E616D6522292C6F3D617065782E6D6F64656C2E676574286929';
wwv_flow_imp.g_varchar2_table(18) := '3B6966286F297B6C657420653D6F2E6765744F7074696F6E2822706167654974656D73546F5375626D697422297C7C5B5D3B653D5B2E2E2E6E657720536574285B2E2E2E652C745D295D2C6F2E7365744F7074696F6E2822706167654974656D73546F53';
wwv_flow_imp.g_varchar2_table(19) := '75626D6974222C65292C617065782E6D6F64656C2E72656C656173652869297D705B615D3D21307D7D7D7D29297D7D7D28617065782E6A51756572792C617065782E7574696C293B';
end;
/
begin
wwv_flow_imp_shared.create_plugin_file(
 p_id=>wwv_flow_imp.id(15784017593031709)
,p_plugin_id=>wwv_flow_imp.id(15703430720627279)
,p_file_name=>'js/popuplovsearchref.min.js'
,p_mime_type=>'text/javascript'
,p_file_charset=>'utf-8'
,p_file_content=>wwv_flow_imp.varchar2_to_blob(wwv_flow_imp.g_varchar2_table)
);
end;
/
prompt --application/end_environment
begin
wwv_flow_imp.import_end(p_auto_install_sup_obj => nvl(wwv_flow_application_install.get_auto_install_sup_obj, false)
);
commit;
end;
/
set verify on feedback on define on
prompt  ...done
